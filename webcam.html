<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>View your Webcam</title>
	<style>
		video {
			width: 100%;
			max-height: 100vh;
		}
		body, html {
			margin: 0;
			padding: 0;
		}
		body {
			overflow: hidden;
			font-family: calibri, sans-serif;
		}
		input#mirror, label[for="mirror"] {
			position: absolute;
			bottom: 0;
			right: 0;
			z-index: 1;
		}
		label[for="mirror"] {
			display: inline-block;
			padding-right: 20px;
			padding-left: 3px;
			background-color: #fff;
		}
		#mirror:checked + video {
			transform: rotateY(180deg);
		}
	</style>
</head>
<body>
	<label for="mirror">Mirror</label>
	<input type="checkbox" id="mirror">
	<video autoplay=""></video>
	<!-- http://stackoverflow.com/a/11299234 -->
	<script>
		if (window.location.href.indexOf('http://') === 0) {
			window.location.assign(window.location.href.replace('http://', 'https://'))
		}
		
		navigator.getUserMedia({ audio: false, video: true }, function(stream) {
			var video = document.querySelector('video')
			video.src = window.URL.createObjectURL(stream)
			// video.src = stream // Opera, maybe?
		}, function (err) { throw err })
	</script>
</body>
</html>
